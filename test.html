<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins:300,400,600">
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css" type="text/css">
    <link rel="stylesheet" href="assets/font-awesome/css/fontawesome-all.min.css">
    <link rel="stylesheet" href="assets/css/leaflet.css">
    <link rel="stylesheet" href="assets/css/style.css">
	
	<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
	<link rel="manifest" href="/site.webmanifest">

	<title>Test of Data Studio</title>

</head>
<body class="has-loading-screen">

<div class="ts-page-wrapper">

    <!--Brand Navigation
    ====================================================================================================================
    -->
    <div id="brand-navigation">

        <div class="container">

            <div id="brand">
                <button class="navbar-toggler d-block d-xl-none" type="button">
                    <i class="fa fa-bars"></i>
                </button>
                <a class="navbar-brand" href="/">
                    <img src="assets/img/brand-light-gdc.png" alt="brand" class="mw-100">
                </a>
            </div>
        </div>

    </div>

   <!--Main Left Navigation
    ====================================================================================================================
    -->
    <div id="main-navigation">
        <nav class="navbar navbar-dark">
            <ul class="navbar-nav">

                <!--Home
                ========================================================================================================
                -->
                <li class="nav-item">
                    <a class="nav-link active" href="/">Home</a>
                    
                </li>

                <!--About us
                ========================================================================================================
                -->
                <li class="nav-item">
                    <a class="nav-link" href="/about.html">About</a>
                   
                </li>

                <!--Portfolio
                ========================================================================================================
                -->
                <li class="nav-item">
                    <a class="nav-link" href="#collapse-portfolio" data-toggle="collapse" role="button">Portfolio</a>
                    <div class="collapse" id="collapse-portfolio">
                        <ul class="nav flex-column">

                            <!--Single-->

                            <li class="nav-item">
                                <a class="nav-link" href="software.html">Software</a>
                            </li>
							<li class="nav-item">
                                <a class="nav-link" href="engineering.html">Engineering</a>
                            </li>
							<li class="nav-item">
                                <a class="nav-link" href="design.html">Design</a>
                            </li>
                        </ul>
                    </div>
                </li>

                <!--Contact
                ========================================================================================================
                -->
                <li class="nav-item">
                    <a class="nav-link" href="contact.html">Contact</a>
                </li>

            </ul>
        </nav>
    </div>

    <!--Content
    ====================================================================================================================
    -->
    <div class="ts-content" style="height: 1000px;">

        <!--MAIN CONTENT
        ================================================================================================================
        ================================================================================================================
        -->


            <!--   <div class="row" style="height: 100%;">
                    <iframe width="100%" height="100%" src="https://datastudio.google.com/embed/reporting/19QW6bFINY2UpbVOQbfM0BwPJjCtzfkJ9/page/HbJLB" frameborder="0" style="border:0" allowfullscreen></iframe>
                </div>-->
                <div class="row">
                    <img src="https://datastudio.google.com/embed/reporting/19QW6bFINY2UpbVOQbfM0BwPJjCtzfkJ9/page/HbJLB/thumbnail?sz=p"></img>
                </div>
                
                <div class="row">
                    <a href="https://accounts.google.com/o/oauth2/v2/auth?client_id=729200848118-1bpliv32k7otplrssqsgioe2lqnhq06i.apps.googleusercontent.com&response_type=code&scope=https://www.googleapis.com/auth/datastudio&redirect_uri=http://greggcowell.com&access_type=offline">API TEST</a>
                </div>
                
                
                  <div class="form-example">
		    <label for="name">Enter your code: </label>
		    <input id="code" type="text">
		  </div>
                
                <button onclick="postFunction()"> Submit </button>
                
                <div class="form-example">
		    <label for="name">Enter your token: </label>
		    <input id="token" type="text">
		  </div>
                
                <button onclick="optionsFunction()"> Submit </button>
                
                
                <script>
                
                function postFunction()
                {
	                
				var code = document.getElementById('code').value;
				console.log(code);
		                var xhr = new XMLHttpRequest();
				xhr.open("POST", 'https://www.googleapis.com/oauth2/v4/token', true);
				xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
			
			try{
			xhr.send(
					'code='+ code +'&client_id=729200848118-1bpliv32k7otplrssqsgioe2lqnhq06i.apps.googleusercontent.com&client_secret=E0oVgDfqAO0uaGs_KdwtUfy8&grant_type=authorization_code&redirect_uri=http://greggcowell.com'
				);
			}
			catch (error) 
			{
				console.log(error);
			}
		}
		
		
		
		function optionsFunction()
                {
	                
				var token = document.getElementById('token').value;
				console.log(token);
		                var xhr = new XMLHttpRequest();
				xhr.open("GET", 'https://datastudio.googleapis.com', true);
				xhr.setRequestHeader('Authorization', 'Bearer ' + token);
				xhr.setRequestHeader('Access-Control-Allow-Origin', 'https://greggcowell.com');

			
			try{
			xhr.send();
			}
			catch (error) 
			{
				console.log(error);
			}
		}

                
                
                </script>

        <!--end #content-->

        <!--FOOTER
        ================================================================================================================
        ================================================================================================================
        -->
        <!--end #footer-->

    </div>
    <!--end page-->
</div>

<script src="assets/js/jquery-3.3.1.min.js"></script>
<script src="assets/js/popper.min.js"></script>
<script src="assets/bootstrap/js/bootstrap.min.js"></script>
<script src="assets/js/imagesloaded.pkgd.min.js"></script>
<script src="assets/js/isInViewport.jquery.js"></script>
<script src="assets/js/scrolla.jquery.min.js"></script>
<script src="assets/js/jquery.validate.min.js"></script>
<script src="assets/js/jquery-validate.bootstrap-tooltip.min.js"></script>
<script src="assets/js/leaflet.js"></script>
<script src="assets/js/custom.js"></script>

<script>
    var latitude = 51.454607;
    var longitude = -2.5879604;
    var markerImage = "assets/img/map-marker.png";
    var mapElement = "map-contact";

    var map = L.map(mapElement).setView([latitude, longitude], 14);

    L.tileLayer('http://{s}.tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png', {
        attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
    }).addTo(map);

    var markerIcon = L.icon({
        iconUrl: markerImage,
        iconSize: [28, 38],
        iconAnchor: [14, 38]
    });

    L.marker([latitude, longitude],{icon: markerIcon}).addTo(map);

</script>

</body>
</html>
